'''
3D柱状图观察FV值
'''
import cv2
import numpy as np
import matplotlib.pyplot as plt

from mpl_toolkits.mplot3d import Axes3D
fig = plt.figure(figsize=(10, 5))  # 画布宽长比例
ax1 = fig.add_subplot(111, projection='3d')
ax1.set_title('Shaded')

z=[
[ 0       ,2811   ,5210   ,4252   ,8818   ,8841   ,9078   ,3993   ,8066   ,3635   ,4142   ,261    ,709    ,3220   ,5412   ,8161   ,0]      ,
[ 0       ,5445   ,5135   ,6616   ,7606   ,9259   ,6977   ,3094   ,5760   ,4491   ,7145   ,14998  ,6609   ,5247   ,12053  ,13039  ,0]      ,
[ 0       ,4843   ,8806   ,4223   ,10093  ,11295  ,13700  ,12477  ,5771   ,3531   ,3806   ,7612   ,8440   ,12798  ,14566  ,4756   ,0]      ,
[ 0       ,8658   ,11409  ,7465   ,16936  ,11541  ,19333  ,17143  ,10     ,2028   ,1180   ,2320   ,8683   ,15079  ,421    ,208    ,0]      ,
[ 0       ,7702   ,11292  ,9694   ,18102  ,12065  ,22021  ,12569  ,10     ,10     ,836    ,641    ,617    ,289    ,238    ,195    ,0]      ,
[ 0       ,5100   ,6297   ,5657   ,12883  ,10795  ,13689  ,3163   ,4106   ,747    ,806    ,762    ,674    ,356    ,291    ,198    ,0]      ,
[ 0       ,3184   ,1245   ,3881   ,5597   ,14078  ,5596   ,714    ,693    ,711    ,831    ,786    ,925    ,469    ,321    ,238    ,0]      ,
[ 0       ,658    ,6099   ,2242   ,1469   ,9136   ,1481   ,684    ,732    ,777    ,870    ,778    ,775    ,634    ,326    ,296    ,0]      ,
[ 0       ,412    ,1579   ,1083   ,1284   ,7722   ,827    ,651    ,793    ,812    ,826    ,634    ,701    ,1014   ,422    ,352    ,0]      ,
[ 0       ,1669   ,968    ,7881   ,10     ,4289   ,732    ,755    ,790    ,907    ,904    ,757    ,957    ,1812   ,4646   ,720    ,0]      ,
[ 0       ,880    ,4617   ,5953   ,10     ,2424   ,1556   ,1748   ,1067   ,5664   ,607    ,952    ,1933   ,374    ,1933   ,7985   ,0]      ,
[ 0       ,932    ,1847   ,651    ,755    ,429    ,536    ,350    ,2274   ,1362   ,1409   ,1982   ,1126   ,387    ,472    ,494    ,0]      ,
[ 0       ,1677   ,895    ,633    ,348    ,455    ,498    ,397    ,394    ,418    ,329    ,426    ,756    ,499    ,413    ,355    ,0]      ,
[ 0       ,2067   ,459    ,398    ,408    ,434    ,533    ,490    ,422    ,432    ,447    ,408    ,487    ,715    ,441    ,315    ,0]      ,
[ 0       ,621    ,506    ,428    ,536    ,376    ,510    ,360    ,486    ,448    ,555    ,831    ,456    ,617    ,457    ,390    ,0]      ,
]

'''
z =[
[ 0       ,2924   ,5128   ,4397   ,8856   ,8827   ,8939   ,3919   ,7938   ,3572   ,4252   ,251    ,779    ,3193   ,5467   ,7979   ,0]      ,
[ 0       ,5445   ,5156   ,6720   ,7486   ,9285   ,6822   ,2802   ,5744   ,4448   ,7122   ,14659  ,6428   ,5183   ,12067  ,13044  ,0]      ,
[ 0       ,5041   ,8669   ,4119   ,9762   ,11402  ,13783  ,12167  ,5778   ,3615   ,3708   ,7464   ,8531   ,12713  ,15401  ,11772  ,0]      ,
[ 0       ,8244   ,11309  ,7365   ,16998  ,11421  ,19250  ,16976  ,10     ,2044   ,1218   ,2379   ,8674   ,19050  ,24507  ,8386   ,0]      ,
[ 0       ,7651   ,11130  ,9354   ,17854  ,11991  ,21519  ,12309  ,10     ,10     ,6010   ,1933   ,7794   ,25327  ,22475  ,1995   ,0]      ,
[ 0       ,5199   ,6426   ,5619   ,12578  ,10928  ,13779  ,6777   ,9462   ,7724   ,11344  ,9173   ,10648  ,30141  ,13255  ,6090   ,0]      ,
[ 0       ,3130   ,1189   ,3791   ,5639   ,14106  ,7314   ,8085   ,12287  ,13199  ,4185   ,2435   ,9624   ,12418  ,11080  ,13677  ,0]      ,
[ 0       ,690    ,6030   ,2232   ,1390   ,12143  ,6748   ,1209   ,5937   ,10     ,860    ,828    ,6729   ,1158   ,1014   ,3885   ,0]      ,
[ 0       ,475    ,1667   ,1046   ,1203   ,9132   ,496    ,729    ,9755   ,1297   ,1086   ,1209   ,2021   ,727    ,572    ,398    ,0]      ,
[ 0       ,1683   ,1036   ,7812   ,10     ,5886   ,558    ,484    ,3785   ,10     ,2471   ,5711   ,2074   ,635    ,5051   ,559    ,0]      ,
[ 0       ,978    ,4561   ,5885   ,10     ,492    ,491    ,450    ,364    ,10     ,550    ,1045   ,480    ,330    ,2039   ,7888   ,0]      ,
[ 0       ,976    ,1889   ,591    ,738    ,474    ,500    ,489    ,392    ,612    ,384    ,766    ,1143   ,343    ,514    ,503    ,0]      ,
[ 0       ,1539   ,961    ,625    ,373    ,448    ,560    ,487    ,427    ,558    ,451    ,347    ,831    ,533    ,495    ,366    ,0]      ,
[ 0       ,2153   ,454    ,390    ,411    ,380    ,486    ,443    ,453    ,496    ,460    ,480    ,582    ,681    ,392    ,368    ,0]      ,
[ 0       ,633    ,495    ,422    ,473    ,396    ,514    ,415    ,442    ,525    ,553    ,827    ,468    ,620    ,452    ,458    ,0]      ,
]
'''
z = np.array( z )
_x = np.arange(0, 15, step = 1)
_y = np.arange(0, 17, step = 1)
_xx, _yy = np.meshgrid(_x, _y)
x, y = _xx.ravel(), _yy.ravel()#ravel扁平化
z = z.ravel()

bottom = np.zeros_like( z )
width = depth = 1

ax1.bar3d(x, y, bottom, width, depth, z, shade=True)  #x，y为数组

ax1.set_xlabel('X')
ax1.set_ylabel('Y')
ax1.set_zlabel('pixel value')

plt.show()